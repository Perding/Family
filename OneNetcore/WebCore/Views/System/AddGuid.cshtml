@model Entity.F_ItemDetail
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>AddGuid</title>
    <link href="~/Jscript/layui/css/layui.css" rel="stylesheet" />
    <script src="~/Jscript/jquery-1.10.2.min.js"></script>
    <script src="~/Jscript/layui/layui.js"></script>
    <script src="~/Jscript/jquery.form.js"></script>
    <style>
        table tr {
            height: 45px;
        }

        .form-button {
            padding: 0px;
            height: 40px;
            line-height: 36px;
            text-align: right;
            border-top: 1px solid #ddd;
            background-color: #eee;
            position: absolute;
            top: 100%;
            margin-top: -40px;
            width: 100%;
            padding-right: 6px;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            -khtml-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body style=" overflow-x:hidden; overflow-y:hidden">
    @using (Html.BeginForm("GetItem_Detal", "System", FormMethod.Post, new { id = "form1", @class = "layui-form" }))
    {
        @Html.AntiForgeryToken()
    <div style="width:100%; overflow-y:auto; overflow-x:hidden" class="body">
        
        <input type="hidden" value="@(Model==null?1:Model.f_enablemark)" id="f_enablemark" name="f_enablemark" />
        <input type="hidden" value="@(Model==null?"":Model.F_ID)" id="F_ID" name="F_ID" />
        <input type="hidden" value="@(Model==null?"":Model.F_itemID)" id="F_itemID" name="F_itemID" />
        <table style="width:100%;">
            <tr>
                <td align="right" width="15%">名称：</td>
                <td align="left" width="80%" class="formValue">
                    <input type="text" name="F_ItemName" id="F_ItemName" class="layui-input formValue required" value="@(Model==null?"":Model.F_ItemName)" lay-verify="required" value="" style="width:90%;" />
                </td>
            </tr>
            <tr>
                <td align="right" width="15%">编号：</td>
                <td align="left" width="80%" class="formValue">
                    <input type="text" name="F_ItemCode" id="F_ItemCode" class="layui-input formValue required" value="@(Model==null?"":Model.F_ItemCode)" lay-verify="required" style="width:90%;" />
                </td>
            </tr>
            <tr>
                <td align="right" width="15%">是否有效：</td>
                <td align="left" width="80%" class="formValue">

                    <input type="checkbox" name="open" lay-skin="switch" lay-filter="IsEnable" lay-text="有效|无效"  @(Model==null?"checked":Model.f_enablemark==1?"checked":"")>
                </td>
            </tr>
        </table>
        <div class="form-button" id="wizard-actions" style=" text-align:center">
            <input type="submit" value="确 定" class="layui-btn layui-btn-normal  layui-btn-lg cli" lay-submit="" lay-filter="demo1" />
        </div>
    </div>

    }
</body>
</html>
<script>
    var index = parent.layer.getFrameIndex(window.name);
    $(function () {


        layui.use(['form', 'layer', 'util', 'laydate'], function () {
            var form = layui.form, layer = layui.layer, util = layui.util, laydate = layui.laydate;
            form.on('switch(IsEnable)', function (data) {
                if (this.checked) {
                    $("#f_enablemark").val("1");
                }
                else {
                    $("#f_enablemark").val("0");
                }
            });
            form.on('submit(demo1)', function (data) {
                $(".cli").attr('disabled', 'disabled').val("保存中...");

                $("#form1").ajaxSubmit(function (msg) {
                    if (msg.status == "ok") {
                        layer.msg("保存成功", { time: 1000 }, function () {
                           //
                            window.parent.liebei($("#F_itemID").val());
                            parent.layer.close(index);
                        });
                    }
                    else {
                        $(".cli").removeAttr('disabled').val("确定");

                        layer.msg(msg.message)
                    }
                });
                return false;
            });
        })
    })
</script>